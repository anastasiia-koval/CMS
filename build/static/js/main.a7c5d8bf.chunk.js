(this["webpackJsonpcms-task"]=this["webpackJsonpcms-task"]||[]).push([[0],{180:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),o=n(19),r=n.n(o),i=n(8),s=n(17),l=n(229),u=n(231),j=n(233),d=n(234),b=n(182),m=n(235),p=n(261),h=n(236),x=n(113),O=n.n(x),g=n(114),f=n.n(g),v=n(10),y=n(18),w="CHANGE_THEME",S="OPEN_SNACKBAR",C="CLOSE_SNACKBAR",k=n(2),N=Object(a.createContext)(),I=function(e,t){switch(t.type){case w:return localStorage.setItem("theme",t.theme),Object(y.a)(Object(y.a)({},e),{},{theme:t.theme,hasChanged:!!t.hasChanged});case S:return Object(y.a)(Object(y.a)({},e),{},{snackbarOpen:!0,snackbarMessage:t.message,snackbarError:t.error});case C:return Object(y.a)(Object(y.a)({},e),{},{snackbarOpen:!1});default:return Object(y.a)({},e)}},A=function(e){var t,n={theme:null!==(t=localStorage.getItem("theme"))&&void 0!==t?t:"light",hasChanged:!1,snackbarOpen:!1,snackbarError:!1,snackbarMessage:""},c=Object(a.useReducer)(I,n),o=Object(v.a)(c,2),r=o[0],i=o[1];return Object(k.jsx)(N.Provider,{value:Object(y.a)({setTheme:function(e,t){return i({type:w,theme:e,hasChanged:t})},openSnackbar:function(e,t){return i({type:S,error:e,message:t})},closeSnackbar:function(){return i({type:C})}},r),children:e.children})},D=Object(a.createContext)(),F=n(29),E=n(4),_=Object(l.a)((function(e){return{appbar:{backdropFilter:"blur(20px)",backgroundColor:e.palette.background.paper+"B7",padding:"0px 30px"},toolbar:{padding:"0px",maxWidth:"1280px",width:"100%",margin:"auto"},name:Object(i.a)({fontWeight:"bold",fontSize:"18px",color:e.palette.text.primary,marginRight:"20px",textDecoration:"none"},e.breakpoints.down("xs"),{display:"none"}),link:Object(i.a)({fontWeight:"normal",fontSize:"16px",color:e.palette.text.primary,marginRight:"20px",textDecoration:"none"},e.breakpoints.down("xs"),{display:"none"}),activeLink:{fontWeight:"bold"},spacer:{flexGrow:"1"},button:{marginRight:"10px"},iconSpacer:{width:"24px",height:"24px"},icon:{position:"absolute"}}})),B=function(){var e=_(),t=Object(a.useContext)(N),n=t.theme,c=t.setTheme,o=Object(a.useContext)(D),r=o.username,l=o.isLoggedIn,x=o.handleLogout,g=(o.userId,o.role),v=Object(s.g)(),y=Object(s.f)();return Object(k.jsx)(u.a,{elevation:3,className:e.appbar,color:"transparent",children:Object(k.jsxs)(j.a,{className:e.toolbar,children:[Object(k.jsx)(d.a,{underline:"none",to:"/",component:F.b,children:Object(k.jsx)(b.a,{className:e.name,children:"Car-Service"})}),"Specialist"!==g.name&&[{name:"Blog",href:"/blog"},{name:"Pracownicy",href:"/specialists"},{name:"Us\u0142ugi",href:"/services"}].map((function(t){return Object(k.jsx)(d.a,{underline:"none",component:F.b,to:t.href,children:Object(k.jsx)(b.a,{className:Object(E.a)(e.link,Object(i.a)({},e.activeLink,y.pathname.includes(t.href))),children:t.name})},t.name)})),Object(k.jsx)("div",{className:e.spacer}),Object(k.jsxs)(m.a,{size:"small",variant:"outlined",className:e.button,onClick:function(){return c("light"===n?"dark":"light",!0)},children:[Object(k.jsx)("div",{className:e.iconSpacer}),Object(k.jsx)(h.a,{in:"light"===n,children:Object(k.jsx)(O.a,{className:e.icon})}),Object(k.jsx)(h.a,{in:"dark"===n,children:Object(k.jsx)(f.a,{className:e.icon})})]}),l&&Object(k.jsx)(m.a,{variant:"outlined",className:e.button,startIcon:Object(k.jsx)(p.a,{className:e.iconSpacer}),onClick:function(){return v("/userAccount")},children:r}),Object(k.jsx)(m.a,{variant:"outlined",onClick:function(){l?(x(),v("/")):v("/login")},children:l?"Wyloguj si\u0119":"Zaloguj si\u0119"})]})})},P=function(e){return function(t){Object.assign({},t);return Object(k.jsx)("div",{style:{padding:"100px 30px 30px"},children:Object(k.jsx)("div",{style:{margin:"auto",maxWidth:"1280px"},children:Object(k.jsx)(e,{})})})}},z=n(237),L=n(256),R=n(240),W=n(258),T=[{id:"email",type:"email",name:"Adres e-mail"},{id:"password",type:"password",name:"Has\u0142o"}],M=n(54),G=n.n(M),H=G.a.create();H.interceptors.request.use((function(e){var t=window.localStorage.getItem("jwt");return t&&(e.headers={Authorization:"Bearer "+t}),e}));var K=H,Y=n(115),U=Object(l.a)((function(e){return{root:{boxSizing:"border-box",width:"100%",maxWidth:"640px",margin:"auto",padding:"20px"},header:{marginBottom:"20px"},column:{display:"flex",flexDirection:"column"},input:{marginBottom:"10px"}}})),V=function(e){var t=!1;return Object.keys(e).forEach((function(n){e[n]||(t=!0)})),t},Z=P((function(){var e=U(),t=Object(a.useState)(function(){var e={};return T.forEach((function(t){return e[t.id]=""})),e}()),n=Object(v.a)(t,2),c=n[0],o=n[1],r=Object(a.useState)(!1),i=Object(v.a)(r,2),l=i[0],u=i[1],j=Object(s.g)(),p=Object(a.useContext)(D).handleLogin;return Object(k.jsxs)(z.a,{elevation:3,className:e.root,children:[Object(k.jsx)(b.a,{variant:"h1",component:"h1",className:e.header,children:"Zaloguj si\u0119"}),Object(k.jsxs)("form",{className:e.column,onSubmit:function(e){e.preventDefault(),K.post("".concat("http://vladar.tk:1337","/auth/local"),{identifier:c.email,password:c.password}).then((function(e){console.log("resLogin :>> ",e),j("/");var t=Object(Y.a)(e.data.jwt);console.log("token :>> ",t),p(e.data.user,e.data.jwt,t.id)})).catch((function(e){u(e.response?e.response.status:-1)}))},children:[T.map((function(t){return Object(k.jsx)(L.a,{variant:"outlined",label:t.name,name:t.id,type:t.type,className:e.input,onChange:function(e){return function(e,t){var n=Object(y.a)({},c);n[t]=e.target.value,u(!1),o(n)}(e,t.id)}},t.id)})),Object(k.jsx)(R.a,{in:!!l,children:Object(k.jsx)(W.a,{severity:"error",className:e.input,children:400===l?"B\u0142\u0119dne dane logowania":"Wyst\u0105pi\u0142 nieznany b\u0142\u0105d, spr\xf3buj ponownie"})}),Object(k.jsxs)(b.a,{className:e.input,children:["Nie masz jeszcze konta?"," ",Object(k.jsx)(d.a,{component:F.b,to:"/register",children:"Stw\xf3rz je teraz!"})]}),Object(k.jsx)(m.a,{variant:"outlined",color:"primary",type:"submit",disabled:V(c),children:"Zaloguj si\u0119"})]})]})})),J=[{id:"email",type:"email",name:"Adres e-mail"},{id:"username",name:"Nazwa u\u017cytkownika"},{id:"password",type:"password",name:"Has\u0142o",autocomplete:"new-password"},{id:"repeatPassword",type:"password",name:"Powt\xf3rz has\u0142o",autocomplete:"new-password",sameAs:"password",sameAsError:"Podane has\u0142a nie s\u0105 takie same"}],q=Object(l.a)((function(e){return{root:{boxSizing:"border-box",width:"100%",maxWidth:"640px",margin:"auto",padding:"20px"},header:{marginBottom:"20px"},column:{display:"flex",flexDirection:"column"},input:{marginBottom:"10px"}}})),$=function(e){var t=!1;return Object.keys(e).forEach((function(n){e[n]||(t=!0)})),t},Q=P((function(){var e=q(),t=Object(a.useState)(function(){var e={};return J.forEach((function(t){return e[t.id]=""})),e}()),n=Object(v.a)(t,2),c=n[0],o=n[1],r=Object(a.useState)({}),i=Object(v.a)(r,2),l=i[0],u=i[1],j=Object(a.useState)(!1),d=Object(v.a)(j,2),p=d[0],h=d[1],x=Object(s.g)(),O=Object(a.useContext)(D).handleLogin;return Object(k.jsxs)(z.a,{elevation:3,className:e.root,children:[Object(k.jsx)(b.a,{variant:"h1",component:"h1",className:e.header,children:"Zarejestruj si\u0119"}),Object(k.jsxs)("form",{className:e.column,onSubmit:function(e){e.preventDefault();var t=function(e,t){var n={};return e.forEach((function(e){var a=e.id,c=t[a];e.sameAs&&t[e.sameAs]!==c&&(n[a]=e.sameAsError)})),n}(J,c);u(t),function(e){var t=!1;return Object.keys(e).forEach((function(n){e[n]&&(t=!0)})),t}(t)?h(-2):K.post("".concat("http://vladar.tk:1337","/auth/local/register"),{email:c.email,username:c.username,password:c.password}).then((function(e){x("/"),O(e.data.user,e.data.jwt)})).catch((function(e){h(e.response?e.response.status:-1)}))},children:[J.map((function(t){return Object(k.jsx)(L.a,{variant:"outlined",label:t.name,name:t.id,type:t.type?t.type:"text",autoComplete:t.autocomplete,className:e.input,error:!!l[t.id],helperText:l[t.id],onChange:function(e){return function(e,t){var n=Object(y.a)({},c);n[t]=e.target.value,h(!1),o(n)}(e,t.id)}},t.id)})),Object(k.jsx)(R.a,{in:!!p,children:Object(k.jsx)(W.a,{severity:"error",className:e.input,children:-2===p?"Popraw b\u0142\u0119dy w formularzu":"Wyst\u0105pi\u0142 nieznany b\u0142\u0105d, spr\xf3buj ponownie"})}),Object(k.jsx)(m.a,{variant:"outlined",color:"primary",type:"submit",disabled:$(c),children:"Stw\xf3rz konto"})]})]})})),X=n(257),ee=n(255),te=Object(l.a)((function(e){return{root:Object(i.a)({display:"flex",flexDirection:function(e){return e.alignRight?"row":"row-reverse"},width:"100%",marginBottom:"20px"},e.breakpoints.down("md"),{flexDirection:"column !important"}),image:Object(i.a)({flexGrow:"1",flexBasis:"40%",marginRight:"20px",maxWidth:"700px",minHeight:"300px",maxHeight:"300px",objectFit:"cover",objectPosition:"center",boxShadow:e.shadows[3],borderRadius:e.shape.borderRadius},e.breakpoints.down("md"),{width:"100%",maxWidth:"unset",marginRight:"0px",marginBottom:"20px"}),textRoot:{flexGrow:"1"}}})),ne=function(e){var t;return(null===(t=e.formats)||void 0===t?void 0:t.medium)?e.formats.medium.url:e.url},ae=function(e){var t=e.article,n=te({alignRight:t.alignToRight});return Object(k.jsxs)(X.a,{className:n.root,children:[t.articlePhoto?Object(k.jsx)("img",{src:"".concat("http://vladar.tk:1337").concat(ne(t.articlePhoto)),className:n.image,alt:t.articlePhoto.alternativeText||""}):null,Object(k.jsxs)(X.a,{className:n.textRoot,children:[Object(k.jsx)(b.a,{component:"h2",variant:"h2",children:t.header}),Object(k.jsx)(b.a,{variant:"body1",children:Object(k.jsx)(ee.a,{children:t.articleContent})})]})]})},ce=n(242),oe=function(){var e=Object(l.a)((function(e){return{root:{height:"100vh",display:"flex",justifyContent:"center",alignItems:"center"},spinner:{color:e.palette.text.main}}}))();return Object(k.jsx)("div",{className:e.root,children:Object(k.jsx)(ce.a,{className:e.spinner})})},re=n(67),ie=n(90),se=n.n(ie),le=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_MY_ENV:"http://vladar.tk:1337",REACT_APP_GOOGLE_MAPS_API_KEY:"AIzaSyC5NPc8U9dad27Gi6xIeygy2OUGHolWxoI"}),ue=le.REACT_APP_MY_ENV,je=le.REACT_APP_GOOGLE_MAPS_API_KEY,de=function(e){console.log("`${GOOGLE_API_KEY}` :>> ",je),console.log("`REACT_APP_MY_ENV` :>> ",ue);var t=Object(a.useState)(),n=Object(v.a)(t,2),c=n[0],o=n[1],r=Object(a.useState)([]),i=Object(v.a)(r,2),s=i[0],l=i[1];se.a.setApiKey(je);var u=Object(a.useContext)(N).openSnackbar;Object(a.useEffect)((function(){G.a.get("".concat(ue,"/locations")).then((function(e){var t=[];e.data.map((function(e){se.a.fromAddress(e.country+" "+e.city+" "+e.streetName).then((function(e){t.push({lat:e.results[0].geometry.location.lat,lng:e.results[0].geometry.location.lng}),l((function(e){return e.concat(t)}))})).catch((function(e){u(!0,"Wyst\u0105pi\u0142 b\u0142\u0105d. Spr\xf3buj od\u015bwie\u017cy\u0107 stron\u0119.")}))}))})).catch((function(e){u(!0,"Wyst\u0105pi\u0142 b\u0142\u0105d. Spr\xf3buj od\u015bwie\u017cy\u0107 stron\u0119.")}))}),[]);var j=Object(re.d)({id:"google-map-script",googleMapsApiKey:je}).isLoaded,d=Object(a.useState)(null),b=Object(v.a)(d,2),m=(b[0],b[1]),p=Object(a.useCallback)((function(e){m(e)}),[]),h=Object(a.useCallback)((function(e){m(null)}),[]);return 0===s.length?Object(k.jsx)(oe,{}):j?Object(k.jsx)(re.a,{mapContainerStyle:{width:"100%",height:"300px"},center:{lat:52.229675,lng:21.01223},zoom:11,onLoad:p,onUnmount:h,children:0!==s.length&&s.map((function(e,t){return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(re.c,{position:e,onClick:function(){return o(t)}},t),c===t&&Object(k.jsx)(re.b,{position:e,onCloseClick:function(){return o(!1)},children:Object(k.jsx)("div",{children:Object(k.jsx)("a",{href:"http://maps.google.com/maps?z=12&t=m&q=loc:".concat(e.lat,"+").concat(e.lng),target:"_blank",rel:"noreferrer",children:"Visit on Google Maps"})})})]})}))}):Object(k.jsx)(k.Fragment,{})},be=Object(l.a)((function(){return{root:{width:"100%",margin:"auto",height:"100%"},header:{marginBottom:"30px"}}})),me=function(){var e=be(),t=Object(a.useState)([]),n=Object(v.a)(t,2),c=n[0],o=n[1],r=Object(a.useState)([]),i=Object(v.a)(r,2),s=i[0],l=(i[1],Object(a.useContext)(N).openSnackbar);return Object(a.useEffect)((function(){G.a.get("".concat("http://vladar.tk:1337","/home-page-articles"),{params:{_sort:["order:ASC"].join(",")}}).then((function(e){o(e.data)})).catch((function(){l(!0,"Wyst\u0105pi\u0142 b\u0142\u0105d. Spr\xf3buj od\u015bwie\u017cy\u0107 stron\u0119.")}))}),[]),0===c.length&&0===s.length&&s?Object(k.jsx)(oe,{}):Object(k.jsxs)("div",{className:e.root,children:[Object(k.jsx)(b.a,{className:e.header,variant:"h1",component:"h1",children:"Warsztaty Car-Service"}),c.map((function(e){return Object(k.jsx)(ae,{article:e},e.id)})),Object(k.jsx)(de,{locations:0!==s.length&&s&&s})]})},pe=n(245),he=n(244),xe=n(243),Oe=n(119),ge=n.n(Oe),fe=function(e){var t=Object(l.a)({root:{minWidth:"350px",maxWidth:"450px",flex:"1"},media:{height:300,objectFit:"cover",position:"center"}})();return Object(k.jsxs)(z.a,{className:t.root,children:[Object(k.jsx)(xe.a,{className:t.media,image:e.picture}),Object(k.jsx)(he.a,{children:Object(k.jsx)(b.a,{gutterBottom:!0,variant:"h5",component:"h2",children:Object(k.jsx)(ge.a,{lines:2,locales:"none",children:e.title})})}),Object(k.jsx)(pe.a,{children:Object(k.jsx)(m.a,{size:"small",color:"primary",onClick:e.onClick,children:"Zobacz wi\u0119cej"})})]})},ve=n(259),ye=n(121),we=n.n(ye),Se=Object(l.a)((function(e){return{root:{display:"flex",flexDirection:"row",width:"100%",justifyContent:"center",alignItems:"center"},input:{width:"90%",margin:"20px 10px 20px 0px"},button:{width:"10%",padding:"15px 0",backgroundColor:e.palette.button.main,color:e.palette.background.default,"&:hover":{backgroundColor:e.palette.button.hover}}}})),Ce=function(e){var t=Se(),n=Object(a.useState)(""),c=Object(v.a)(n,2),o=c[0],r=c[1],i=Object(a.useState)(""),s=Object(v.a)(i,2),l=s[0],u=s[1];return Object(k.jsxs)("div",{className:t.root,children:[Object(k.jsx)(ve.a,{value:o,onChange:function(e,t){r(t)},inputValue:l,onInputChange:function(e,t){u(t)},id:"controllable-states-demo",options:function(e){var t=[];return e.map((function(e){t.push(e.title)})),t}(e.posts),className:t.input,renderInput:function(e){return Object(k.jsx)(L.a,Object(y.a)(Object(y.a)({},e),{},{label:"Szukaj...",variant:"outlined"}))}}),Object(k.jsx)(m.a,{variant:"contained",className:t.button,onClick:function(){return function(t,n){var a=[];return t.filter((function(e){return null===n||e.title.toLowerCase().includes(n.toLowerCase())?(a.push(e),a):void 0})),console.log("filtered :>> ",a),e.setPosts(a),a}(e.postsCopy,o)},children:Object(k.jsx)(we.a,{})})]})},ke="http://vladar.tk:1337",Ne=Object(l.a)((function(){return{root:{display:"flex",flexDirection:"column"},postContainer:{display:"flex",gap:"20px",marginTop:"20px",flexWrap:"wrap",justifyContent:"center"}}})),Ie=function(){var e=Ne(),t=Object(s.g)(),n=Object(a.useState)([]),c=Object(v.a)(n,2),o=c[0],r=c[1],i=Object(a.useState)([]),l=Object(v.a)(i,2),u=l[0],j=l[1];return Object(a.useEffect)((function(){K.get("".concat(ke,"/posts")).then((function(e){r(e.data),j(e.data),console.log("res :>> ",e)})).catch((function(e){console.log("err :>> ",e)}))}),[]),0===o.length?Object(k.jsx)(oe,{}):Object(k.jsxs)("div",{className:e.root,children:[Object(k.jsx)(b.a,{gutterBottom:!0,variant:"h5",component:"h2",children:"Blog Serwisowy"}),Object(k.jsx)(Ce,{posts:o,setPosts:r,postsCopy:u}),Object(k.jsx)("div",{className:e.postContainer,children:o&&o.map((function(e){return Object(k.jsx)(fe,{picture:"".concat(ke).concat(e.picture.url),title:e.title,onClick:function(){t("/blog/".concat(e.id))},published_at:e.published_at,userName:e.userID.username&&e.userID.username},e.id)}))})]})},Ae=n(122),De=n.n(Ae),Fe=n(123),Ee=n.n(Fe),_e=n(20),Be=n(246),Pe="http://vladar.tk:1337",ze=Object(l.a)((function(e){return{commentInfo:{display:"flex",flexDirection:"row",justifyContent:"space-between",marginBottom:"10px"},comment:{marginBottom:"15px",marginTop:"20px",display:"flex",flexDirection:"row",gap:"20px"},commentDetail:{marginBottom:"15px",textAlign:"justify"},button:{marginTop:"10px",width:"150px",backgroundColor:e.palette.button.main,color:e.palette.background.default,"&:hover":{backgroundColor:e.palette.button.hover}},addComment:{display:"flex",flexDirection:"column",alignItems:"flex-end",marginTop:"20px"}}})),Le=function(e){var t=ze(),n=Object(a.useState)(""),c=Object(v.a)(n,2),o=c[0],r=c[1],i=Object(a.useState)(),s=Object(v.a)(i,2),l=s[0],u=s[1],j=function(e){var t=new Date(e),n="".concat(t.getMonth()+1<10?"0".concat(t.getMonth()+1):t.getMonth()),a="".concat(t.getDate()<10?"0".concat(t.getDate()):t.getDate());return t.getFullYear()+"-"+n+"-"+a};Object(a.useEffect)((function(){K.get("".concat(Pe,"/users")).then((function(e){u(e.data)})).catch((function(e){return console.log("err :>> ",e)}))}),[]);return Object(k.jsxs)("div",{children:[Object(k.jsx)(b.a,{variant:"h6",children:"Comments"}),l&&e.comments.map((function(e){return Object(k.jsxs)("div",{className:t.comment,children:[Object(k.jsx)(p.a,{className:t.iconSpacer}),Object(k.jsxs)("div",{style:{width:"100%"},children:[Object(k.jsxs)("div",{className:t.commentInfo,children:[Object(k.jsx)(b.a,{variant:"subtitle1",style:{fontWeight:"500"},children:(n=e.userID,(l&&l.find((function(e){return e.id===n}))).username)}),Object(k.jsx)(b.a,{variant:"body2",children:j(e.published_at)})]}),Object(k.jsx)(b.a,{variant:"body2",className:t.commentDetail,children:e.comment})]}),Object(k.jsx)(Be.a,{})]},e.id);var n})),Object(k.jsxs)("div",{className:t.addComment,children:[Object(k.jsx)(L.a,{id:"outlined-name",label:"Name",value:o,multiline:!0,rows:4,fullWidth:!0,inputProps:{maxLength:100},helperText:"".concat(o.length,"/").concat(100),onChange:function(e){return r(e.target.value)},variant:"outlined"}),Object(k.jsx)(m.a,{className:t.button,variant:"contained",onClick:function(){return function(t,n,a){var c={postID:t,userID:n,comment:a};console.log("data :>> ",c),K.post("".concat(Pe,"/comments"),c).then((function(t){console.log("res :>> ",t),r(""),console.log("comments :>> ",e.comments),e.setComments([].concat(Object(_e.a)(e.comments),[{comment:t.data.comment,created_at:t.data.created_at,id:t.data.id,postId:t.data.postID.id,published_at:t.data.published_at,updated_at:t.data.updated_at,userID:t.data.userID.id}]))})).catch((function(e){console.log("err :>> ",e)}))}(e.postId,e.userId,o)},children:"Add comment"})]})]})},Re="http://vladar.tk:1337",We=Object(l.a)({userDate:{display:"flex",flexDirection:"row",alignItems:"center",marginBottom:"20px",justifyContent:"space-between"},dateContainer:{display:"flex",flexDirection:"row",alignItems:"center"},subText:{fontSize:"14px",margin:"0",marginLeft:"6px",color:"#555555"},button:{border:"1px solid rgba(0, 0, 0, 0.23)",backgroundColor:"#FFFFFFB7"},content:{textAlign:"justify"},postInfo:{display:"flex",flexDirection:"column",marginBottom:"20px"},imageContainer:{width:"100%",height:"300px",marginBottom:"10px","& img":{objectFit:"cover",width:"100%",height:"100%"}}}),Te=function(){var e=We(),t=Object(s.h)().id,n=Object(a.useContext)(D).userId,c=Object(a.useState)([]),o=Object(v.a)(c,2),r=o[0],i=o[1],l=Object(a.useState)([]),u=Object(v.a)(l,2),j=u[0],d=u[1],p=Object(s.g)();return Object(a.useEffect)((function(){K.get("".concat(Re,"/posts/").concat(t)).then((function(e){console.log("resData :>> ",e.data),i(e.data),d(e.data.commentsIDs)})).catch((function(e){return console.log("err :>> ",e)}))}),[]),0===r.length?Object(k.jsx)(oe,{}):(console.log("LALALA :>> "),Object(k.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(k.jsx)("div",{style:{marginBottom:"20px"},children:Object(k.jsx)(m.a,{className:e.button,startIcon:Object(k.jsx)(De.a,{}),onClick:function(){return p(-1)},children:"Wr\xf3\u0107"})}),Object(k.jsxs)("div",{className:e.postInfo,children:[Object(k.jsxs)("div",{className:e.userDate,children:[Object(k.jsxs)("div",{className:e.dateContainer,children:[Object(k.jsx)(Ee.a,{}),Object(k.jsx)(b.a,{gutterBottom:!0,className:e.subText,children:r&&function(e){var t=new Date(e),n="".concat(t.getMonth()+1<10?"0".concat(t.getMonth()+1):t.getMonth()),a="".concat(t.getDate()<10?"0".concat(t.getDate()):t.getDate());return t.getFullYear()+"-"+n+"-"+a}(r.published_at)})]}),r&&r.userID.username&&Object(k.jsxs)(b.a,{gutterBottom:!0,className:e.subText,children:["Dodano przez ",r.userID.username]})]}),Object(k.jsx)("div",{className:e.imageContainer,children:Object(k.jsx)("img",{src:r&&"".concat(Re).concat(r.picture.url),alt:""})}),Object(k.jsx)(b.a,{className:e.content,gutterBottom:!0,variant:"h1",component:"h1",children:r&&r.title})]}),Object(k.jsx)("div",{children:Object(k.jsx)(b.a,{className:e.content,gutterBottom:!0,variant:"body1",children:r&&Object(k.jsx)(ee.a,{children:r.description})})}),Object(k.jsx)(Le,{postId:t,userId:n,post:r,setComments:d,comments:j})]}))},Me=n(247),Ge=n(127),He=n(248),Ke=n(249),Ye=n(250),Ue=n(251),Ve=n(252),Ze=n(262),Je=function(e){return e.map((function(e){return e.title})).join(", ")},qe=Object(l.a)((function(e){return{table:{minWidth:650},colorAvailable:{backgroundColor:e.palette.background.paper,border:"2px solid #4caf50"},colorNotAvailable:{backgroundColor:e.palette.background.paper,border:"2px solid #f44336"}}})),$e=function(){var e=qe(),t=Object(a.useState)([]),n=Object(v.a)(t,2),c=n[0],o=n[1];return Object(a.useEffect)((function(){K.get("".concat("http://vladar.tk:1337","/specialists")).then((function(e){o(e.data),console.log("res :>> ",e)})).catch((function(e){console.log("err :>> ",e)}))}),[]),0===c.length?Object(k.jsx)(oe,{}):Object(k.jsx)(Me.a,{component:Ge.a,children:Object(k.jsxs)(He.a,{className:e.table,"aria-label":"simple table",children:[Object(k.jsxs)(Ke.a,{children:[Object(k.jsx)(Ye.a,{children:"Imie"}),Object(k.jsx)(Ye.a,{children:"Nazwisko"}),Object(k.jsx)(Ye.a,{children:"Stanowisko"}),Object(k.jsx)(Ye.a,{children:"Dost\u0119pno\u015b\u0107"})]}),Object(k.jsx)(Ue.a,{children:c.map((function(t){return Object(k.jsxs)(Ve.a,{children:[Object(k.jsx)(Ye.a,{children:t.name}),Object(k.jsx)(Ye.a,{children:t.surname}),Object(k.jsx)(Ye.a,{children:Je(t.services)}),Object(k.jsx)(Ye.a,{children:t.available?Object(k.jsx)(Ze.a,{label:"Dost\u0119pny",className:e.colorAvailable}):Object(k.jsx)(Ze.a,{label:"Nie dost\u0119pny",className:e.colorNotAvailable})})]},t.id)}))})]})})},Qe=Object(l.a)({table:{minWidth:650}}),Xe=function(){var e=Qe(),t=Object(a.useState)([]),n=Object(v.a)(t,2),c=n[0],o=n[1];return Object(a.useEffect)((function(){K.get("".concat("http://vladar.tk:1337","/services")).then((function(e){o(e.data)}))}),[]),0===c.length?Object(k.jsx)(oe,{}):Object(k.jsx)(Me.a,{component:Ge.a,children:Object(k.jsxs)(He.a,{className:e.table,"aria-label":"simple table",children:[Object(k.jsx)(Ke.a,{children:Object(k.jsx)(Ve.a,{children:Object(k.jsx)(Ye.a,{children:"Nazwa"})})}),Object(k.jsx)(Ue.a,{children:c.map((function(e){return Object(k.jsx)(Ve.a,{children:Object(k.jsx)(Ye.a,{children:e.title})},e.id)}))})]})})},et=Object(l.a)((function(e){return{root:{display:"flex",justifyContent:"center",flexDirection:"row",width:"100%"},userInfoCard:{display:"flex",justifyContent:"center",flexDirection:"column",height:"100%",padding:"20px",width:"50%",boxShadow:e.shadows[3],borderRadius:e.shape.borderRadius},accountInfo:{width:"100%",borderRadius:e.shape.borderRadius,boxShadow:e.shadows[3],minHeight:"300px",padding:"20px",marginLeft:"20px"},text:{marginBottom:"15px"}}})),tt=function(){var e=et(),t=Object(a.useContext)(D),n=t.username,c=t.email,o=Object(a.useState)(),r=Object(v.a)(o,2);r[0],r[1];return Object(k.jsxs)("div",{className:e.root,children:[Object(k.jsxs)(X.a,{component:Ge.a,className:e.userInfoCard,children:[Object(k.jsx)(b.a,{gutterBottom:!0,component:"h6",variant:"h6",children:n}),Object(k.jsx)(b.a,{component:"subtitle1",variant:"subtitle1",children:c})]}),Object(k.jsx)(X.a,{component:Ge.a,className:e.accountInfo,children:Object(k.jsx)(b.a,{className:e.text,variant:"h3",children:"Moje rezerwacje"})}),Object(k.jsx)("div",{})]})},nt=Object(l.a)((function(e){var t;return{root:(t={boxSizing:"border-box",margin:"86px 175px",minHeight:"100vh",backgroundColor:e.palette.background.default},Object(i.a)(t,e.breakpoints.down("xs"),{padding:"64px 30px 30px"}),Object(i.a)(t,e.breakpoints.down(350),{padding:"64px 5% 5%"}),t)}})),at=function(){var e=Object(a.useContext)(D),t=e.isLoggedIn,n=e.role,o=nt();return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(B,{}),Object(k.jsx)("div",{className:o.root,children:Object(k.jsxs)(s.d,{children:[Object(k.jsx)(s.b,{path:"/",element:"Specialist"===n.name?Object(k.jsx)(s.a,{to:"/userAccount"}):Object(k.jsx)(me,{})}),Object(k.jsx)(s.b,{path:"/login",element:t?Object(k.jsx)(s.a,{to:"/"}):Object(k.jsx)(Z,{})}),Object(k.jsx)(s.b,{path:"/register",element:t?Object(k.jsx)(s.a,{to:"/"}):Object(k.jsx)(Q,{})}),Object(k.jsx)(s.b,{path:"/userAccount",element:Object(k.jsx)(tt,{})}),"Specialist"!==n.name&&Object(k.jsxs)(c.a.Fragment,{children:[Object(k.jsx)(s.b,{path:"/blog",element:Object(k.jsx)(Ie,{})}),Object(k.jsx)(s.b,{path:"/blog/:id",element:Object(k.jsx)(Te,{})}),Object(k.jsx)(s.b,{path:"/specialists",element:Object(k.jsx)($e,{})}),Object(k.jsx)(s.b,{path:"/services",element:Object(k.jsx)(Xe,{})})]})]})})]})},ct=n(254),ot=n(34),rt=n(124),it=n(253),st="HANDLE_LOGIN",lt="HANDLE_LOGOUT",ut=["blocked","confirmed","email","username"],jt=function(e,t){switch(t.type){case st:localStorage.setItem("userId",t.userId),localStorage.setItem("jwt",t.jwt);var n={};ut.forEach((function(e){n[e]=t.user[e]}));var a={name:t.user.role.name,type:t.user.role.type};return Object(y.a)(Object(y.a)(Object(y.a)({},e),n),{},{userId:t.userId,role:a,jwt:t.jwt,isLoggedIn:!0});case lt:return Object(y.a)({},t.initialState);default:return Object(y.a)({},e)}},dt=function(e){var t={blocked:!1,confirmed:!1,email:"",username:"",isLoggedIn:!1,role:{name:"",type:""},jwt:"",userId:""},n=Object(a.useReducer)(jt,localStorage.getItem("userState")?JSON.parse(localStorage.getItem("userState")):t),c=Object(v.a)(n,2),o=c[0],r=c[1];Object(a.useEffect)((function(){localStorage.setItem("userState",JSON.stringify(o)),localStorage.setItem("jwt",o.jwt),localStorage.setItem("userId",o.userId)}),[o]);return Object(k.jsx)(D.Provider,{value:Object(y.a)(Object(y.a)({},o),{},{handleLogin:function(e,t,n){r({type:st,user:e,jwt:t,userId:n})},handleLogout:function(){r({type:lt,initialState:t})}}),children:e.children})},bt=function(e,t){K.interceptors.response.use((function(e){return Promise.resolve(e)}),(function(n){return n&&n.response&&(401===n.response.status||403===n.response.status)&&(t(!0,"Nie masz dost\u0119pu do tej strony"),e("/")),Promise.reject(n)}))},mt=n(260),pt=function(){var e=Object(a.useContext)(N),t=e.snackbarOpen,n=e.snackbarError,c=e.snackbarMessage,o=e.closeSnackbar;return Object(a.useEffect)((function(){t&&setTimeout((function(){o()}),5e3)}),[t]),Object(k.jsx)(mt.a,{open:t,anchorOrigin:{vertical:"bottom",horizontal:"center"},children:Object(k.jsx)(W.a,{severity:n?"error":"success",children:c})})},ht=function(e){var t=e.children,n=Object(a.useContext)(N),c=n.theme,o=(n.hasChanged,n.setTheme,n.openSnackbar),r=(n.closeSnackbar,Object(ot.a)());bt(Object(s.g)(),o);var i=Object(a.useMemo)((function(){return Object(rt.a)({palette:{type:c,background:{paper:"light"===c?"#FFFFFF":"#0A1929",default:"light"===c?"#F3F6F9":"#001E3C"},primary:{main:"light"===c?"#007FFF":"#3399FF"},text:{main:"light"===c?"#0A1929":"#FFFFFF",secondary:"light"===c?"#46505A":"#AAB4BE"},button:{main:"light"===c?"#007FFF":"#FFFFFF",hover:"light"===c?"#0372E2":"#D8D6D6"}},typography:{fontFamily:['"IBM Plex Sans"',"Roboto","sans-serif"].join(", ")},shape:{borderRadius:"10px"},overrides:{MuiTypography:{root:{transition:r.transitions.create("color",{duration:r.transitions.duration.standard})},h1:{fontSize:"30px",fontWeight:"bold"},h2:{fontSize:"25px",fontWeight:"bold"},h3:{fontSize:"25px",fontWeight:"400"}},MuiLink:{root:{fontFamily:['"IBM Plex Sans"',"Roboto","sans-serif"].join(", ")}},MuiButton:{sizeSmall:{padding:"5px 10px",minWidth:"unset"}},MuiOutlinedInput:{root:{backgroundColor:"light"===c?"#FFFFFF":"#0A1929"}}}})}),[c]);return Object(k.jsx)(it.a,{theme:i,children:t})};r.a.render(Object(k.jsx)(c.a.StrictMode,{children:Object(k.jsx)(A,{children:Object(k.jsx)(dt,{children:Object(k.jsx)(F.a,{children:Object(k.jsx)(ht,{children:Object(k.jsxs)(ct.a,{children:[Object(k.jsx)(at,{}),Object(k.jsx)(pt,{})]})})})})})}),document.getElementById("root"))}},[[180,1,2]]]);
//# sourceMappingURL=main.a7c5d8bf.chunk.js.map