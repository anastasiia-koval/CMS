(this["webpackJsonpcms-task"]=this["webpackJsonpcms-task"]||[]).push([[0],{162:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(15),o=a.n(r),i=a(7),s=a(11),l=a(203),j=a(205),d=a(207),b=a(208),u=a(164),h=a(209),m=a(230),x=a(210),p=a(101),O=a.n(p),f=a(102),g=a.n(f),v=a(13),y=a(14),w="CHANGE_THEME",k="OPEN_SNACKBAR",S="CLOSE_SNACKBAR",N=a(2),C=Object(n.createContext)(),I=function(e,t){switch(t.type){case w:return localStorage.setItem("theme",t.theme),Object(y.a)(Object(y.a)({},e),{},{theme:t.theme,hasChanged:!!t.hasChanged});case k:return Object(y.a)(Object(y.a)({},e),{},{snackbarOpen:!0,snackbarMessage:t.message,snackbarError:t.error});case S:return Object(y.a)(Object(y.a)({},e),{},{snackbarOpen:!1});default:return Object(y.a)({},e)}},F=function(e){var t,a={theme:null!==(t=localStorage.getItem("theme"))&&void 0!==t?t:"light",hasChanged:!1,snackbarOpen:!1,snackbarError:!1,snackbarMessage:""},c=Object(n.useReducer)(I,a),r=Object(v.a)(c,2),o=r[0],i=r[1];return Object(N.jsx)(C.Provider,{value:Object(y.a)({setTheme:function(e,t){return i({type:w,theme:e,hasChanged:t})},openSnackbar:function(e,t){return i({type:k,error:e,message:t})},closeSnackbar:function(){return i({type:S})}},o),children:e.children})},B=Object(n.createContext)(),z=a(21),A=a(4),E=Object(l.a)((function(e){return{appbar:{backdropFilter:"blur(20px)",backgroundColor:e.palette.background.paper+"B7",padding:"0px 30px"},toolbar:{padding:"0px",maxWidth:"1280px",width:"100%",margin:"auto"},name:Object(i.a)({fontWeight:"bold",fontSize:"18px",color:e.palette.text.primary,marginRight:"20px",textDecoration:"none"},e.breakpoints.down("xs"),{display:"none"}),link:Object(i.a)({fontWeight:"normal",fontSize:"16px",color:e.palette.text.primary,marginRight:"20px",textDecoration:"none"},e.breakpoints.down("xs"),{display:"none"}),activeLink:{fontWeight:"bold"},spacer:{flexGrow:"1"},button:{marginRight:"10px"},iconSpacer:{width:"24px",height:"24px"},icon:{position:"absolute"}}})),D=function(){var e=E(),t=Object(n.useContext)(C),a=t.theme,c=t.setTheme,r=Object(n.useContext)(B),o=r.username,l=r.isLoggedIn,p=r.handleLogout,f=(r.userId,Object(s.g)()),v=Object(s.f)();return Object(N.jsx)(j.a,{elevation:3,className:e.appbar,color:"transparent",children:Object(N.jsxs)(d.a,{className:e.toolbar,children:[Object(N.jsx)(b.a,{underline:"none",to:"/",component:z.b,children:Object(N.jsx)(u.a,{className:e.name,children:"Car-Service"})}),[{name:"Blog",href:"/blog"},{name:"Pracownicy",href:"/specialists"},{name:"Services",href:"/services"}].map((function(t){return Object(N.jsx)(b.a,{underline:"none",component:z.b,to:t.href,children:Object(N.jsx)(u.a,{className:Object(A.a)(e.link,Object(i.a)({},e.activeLink,v.pathname.includes(t.href))),children:t.name})},t.name)})),Object(N.jsx)("div",{className:e.spacer}),Object(N.jsxs)(h.a,{size:"small",variant:"outlined",className:e.button,onClick:function(){return c("light"===a?"dark":"light",!0)},children:[Object(N.jsx)("div",{className:e.iconSpacer}),Object(N.jsx)(x.a,{in:"light"===a,children:Object(N.jsx)(O.a,{className:e.icon})}),Object(N.jsx)(x.a,{in:"dark"===a,children:Object(N.jsx)(g.a,{className:e.icon})})]}),l&&Object(N.jsx)(h.a,{variant:"outlined",className:e.button,startIcon:Object(N.jsx)(m.a,{className:e.iconSpacer}),onClick:function(){return f("/userAccount")},children:o}),Object(N.jsx)(h.a,{variant:"outlined",onClick:function(){l?(p(),f("/")):f("/login")},children:l?"Wyloguj si\u0119":"Zaloguj si\u0119"})]})})},W=function(e){return function(t){Object.assign({},t);return Object(N.jsx)("div",{style:{padding:"100px 30px 30px"},children:Object(N.jsx)("div",{style:{margin:"auto",maxWidth:"1280px"},children:Object(N.jsx)(e,{})})})}},R=a(211),L=a(226),M=a(213),P=a(228),T=[{id:"email",type:"email",name:"Adres e-mail"},{id:"password",type:"password",name:"Has\u0142o"}],_=a(70),H=a.n(_),G=H.a.create();G.interceptors.request.use((function(e){var t=window.localStorage.getItem("jwt");return t&&(e.headers={Authorization:"Bearer "+t}),e}));var J=G,Z=a(103),K=Object(l.a)((function(e){return{root:{boxSizing:"border-box",width:"100%",maxWidth:"640px",margin:"auto",padding:"20px"},header:{marginBottom:"20px"},column:{display:"flex",flexDirection:"column"},input:{marginBottom:"10px"}}})),Y=function(e){var t=!1;return Object.keys(e).forEach((function(a){e[a]||(t=!0)})),t},q=W((function(){var e=K(),t=Object(n.useState)(function(){var e={};return T.forEach((function(t){return e[t.id]=""})),e}()),a=Object(v.a)(t,2),c=a[0],r=a[1],o=Object(n.useState)(!1),i=Object(v.a)(o,2),l=i[0],j=i[1],d=Object(s.g)(),m=Object(n.useContext)(B).handleLogin;return Object(N.jsxs)(R.a,{elevation:3,className:e.root,children:[Object(N.jsx)(u.a,{variant:"h1",component:"h1",className:e.header,children:"Zaloguj si\u0119"}),Object(N.jsxs)("form",{className:e.column,onSubmit:function(e){e.preventDefault(),J.post("".concat("http://vladar.tk:1337","/auth/local"),{identifier:c.email,password:c.password}).then((function(e){console.log("resLogin :>> ",e),d("/");var t=Object(Z.a)(e.data.jwt);console.log("token :>> ",t),m(e.data.user,e.data.jwt,t.id)})).catch((function(e){j(e.response?e.response.status:-1)}))},children:[T.map((function(t){return Object(N.jsx)(L.a,{variant:"outlined",label:t.name,name:t.id,type:t.type,className:e.input,onChange:function(e){return function(e,t){var a=Object(y.a)({},c);a[t]=e.target.value,j(!1),r(a)}(e,t.id)}},t.id)})),Object(N.jsx)(M.a,{in:!!l,children:Object(N.jsx)(P.a,{severity:"error",className:e.input,children:400===l?"B\u0142\u0119dne dane logowania":"Wyst\u0105pi\u0142 nieznany b\u0142\u0105d, spr\xf3buj ponownie"})}),Object(N.jsxs)(u.a,{className:e.input,children:["Nie masz jeszcze konta?"," ",Object(N.jsx)(b.a,{component:z.b,to:"/register",children:"Stw\xf3rz je teraz!"})]}),Object(N.jsx)(h.a,{variant:"outlined",color:"primary",type:"submit",disabled:Y(c),children:"Zaloguj si\u0119"})]})]})})),U=[{id:"email",type:"email",name:"Adres e-mail"},{id:"username",name:"Nazwa u\u017cytkownika"},{id:"password",type:"password",name:"Has\u0142o",autocomplete:"new-password"},{id:"repeatPassword",type:"password",name:"Powt\xf3rz has\u0142o",autocomplete:"new-password",sameAs:"password",sameAsError:"Podane has\u0142a nie s\u0105 takie same"}],V=Object(l.a)((function(e){return{root:{boxSizing:"border-box",width:"100%",maxWidth:"640px",margin:"auto",padding:"20px"},header:{marginBottom:"20px"},column:{display:"flex",flexDirection:"column"},input:{marginBottom:"10px"}}})),Q=function(e){var t=!1;return Object.keys(e).forEach((function(a){e[a]||(t=!0)})),t},X=W((function(){var e=V(),t=Object(n.useState)(function(){var e={};return U.forEach((function(t){return e[t.id]=""})),e}()),a=Object(v.a)(t,2),c=a[0],r=a[1],o=Object(n.useState)({}),i=Object(v.a)(o,2),l=i[0],j=i[1],d=Object(n.useState)(!1),b=Object(v.a)(d,2),m=b[0],x=b[1],p=Object(s.g)(),O=Object(n.useContext)(B).handleLogin;return Object(N.jsxs)(R.a,{elevation:3,className:e.root,children:[Object(N.jsx)(u.a,{variant:"h1",component:"h1",className:e.header,children:"Zarejestruj si\u0119"}),Object(N.jsxs)("form",{className:e.column,onSubmit:function(e){e.preventDefault();var t=function(e,t){var a={};return e.forEach((function(e){var n=e.id,c=t[n];e.sameAs&&t[e.sameAs]!==c&&(a[n]=e.sameAsError)})),a}(U,c);j(t),function(e){var t=!1;return Object.keys(e).forEach((function(a){e[a]&&(t=!0)})),t}(t)?x(-2):J.post("".concat("http://vladar.tk:1337","/auth/local/register"),{email:c.email,username:c.username,password:c.password}).then((function(e){p("/"),O(e.data.user,e.data.jwt)})).catch((function(e){x(e.response?e.response.status:-1)}))},children:[U.map((function(t){return Object(N.jsx)(L.a,{variant:"outlined",label:t.name,name:t.id,type:t.type?t.type:"text",autoComplete:t.autocomplete,className:e.input,error:!!l[t.id],helperText:l[t.id],onChange:function(e){return function(e,t){var a=Object(y.a)({},c);a[t]=e.target.value,x(!1),r(a)}(e,t.id)}},t.id)})),Object(N.jsx)(M.a,{in:!!m,children:Object(N.jsx)(P.a,{severity:"error",className:e.input,children:-2===m?"Popraw b\u0142\u0119dy w formularzu":"Wyst\u0105pi\u0142 nieznany b\u0142\u0105d, spr\xf3buj ponownie"})}),Object(N.jsx)(h.a,{variant:"outlined",color:"primary",type:"submit",disabled:Q(c),children:"Stw\xf3rz konto"})]})]})})),$=a(227),ee=a(225),te=Object(l.a)((function(e){return{root:Object(i.a)({display:"flex",flexDirection:function(e){return e.alignRight?"row":"row-reverse"},width:"100%",marginBottom:"20px"},e.breakpoints.down("md"),{flexDirection:"column !important"}),image:Object(i.a)({flexGrow:"1",flexBasis:"40%",marginRight:"20px",maxWidth:"700px",minHeight:"300px",maxHeight:"300px",objectFit:"cover",objectPosition:"center",boxShadow:e.shadows[3],borderRadius:e.shape.borderRadius},e.breakpoints.down("md"),{width:"100%",maxWidth:"unset",marginRight:"0px",marginBottom:"20px"}),textRoot:{flexGrow:"1"}}})),ae=function(e){var t;return(null===(t=e.formats)||void 0===t?void 0:t.medium)?e.formats.medium.url:e.url},ne=function(e){var t=e.article,a=te({alignRight:t.alignToRight});return Object(N.jsxs)($.a,{className:a.root,children:[Object(N.jsx)("img",{src:"".concat("http://vladar.tk:1337").concat(ae(t.articlePhoto)),className:a.image,alt:t.articlePhoto.alternativeText||""}),Object(N.jsxs)($.a,{className:a.textRoot,children:[Object(N.jsx)(u.a,{component:"h2",variant:"h2",children:t.header}),Object(N.jsx)(u.a,{variant:"body1",children:Object(N.jsx)(ee.a,{children:t.articleContent})})]})]})},ce=Object(l.a)((function(){return{root:{width:"100%",margin:"auto"},header:{marginBottom:"30px"}}})),re=function(){var e=ce(),t=Object(n.useState)([]),a=Object(v.a)(t,2),c=a[0],r=a[1],o=Object(n.useContext)(C).openSnackbar;return Object(n.useEffect)((function(){H.a.get("".concat("http://vladar.tk:1337","/home-page-articles"),{params:{_sort:["order:ASC"].join(",")}}).then((function(e){r(e.data)})).catch((function(){o(!0,"Wyst\u0105pi\u0142 b\u0142\u0105d. Spr\xf3buj od\u015bwie\u017cy\u0107 stron\u0119.")}))}),[]),Object(N.jsxs)("div",{className:e.root,children:[Object(N.jsx)(u.a,{className:e.header,variant:"h1",component:"h1",children:"Warsztaty Car-Service"}),c.map((function(e){return Object(N.jsx)(ne,{article:e},e.id)}))]})},oe=a(216),ie=a(215),se=a(214),le=a(107),je=a.n(le),de=function(e){var t=Object(l.a)({root:{minWidth:"350px",maxWidth:"500px",flex:"1"},media:{height:300,objectFit:"cover",position:"center"}})();return Object(N.jsxs)(R.a,{className:t.root,children:[Object(N.jsx)(se.a,{className:t.media,image:e.picture}),Object(N.jsx)(ie.a,{children:Object(N.jsx)(u.a,{gutterBottom:!0,variant:"h5",component:"h2",children:Object(N.jsx)(je.a,{lines:2,locales:"none",children:e.title})})}),Object(N.jsx)(oe.a,{children:Object(N.jsx)(h.a,{size:"small",color:"primary",onClick:e.onClick,children:"Zobacz wi\u0119cej"})})]})},be="http://vladar.tk:1337",ue=function(){var e=Object(s.g)(),t=Object(n.useState)(),a=Object(v.a)(t,2),c=a[0],r=a[1];return Object(n.useEffect)((function(){J.get("".concat(be,"/posts")).then((function(e){r(e.data),console.log("res :>> ",e)})).catch((function(e){console.log("err :>> ",e)}))}),[]),Object(N.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(N.jsx)(u.a,{gutterBottom:!0,variant:"h5",component:"h2",children:"Blog Serwisowy"}),Object(N.jsx)("div",{style:{display:"flex",gap:"20px",marginTop:"20px",flexWrap:"wrap",justifyContent:"center"},children:c&&c.map((function(t){return Object(N.jsx)(de,{picture:"".concat(be).concat(t.picture.url),title:t.title,onClick:function(){e("/blog/".concat(t.id))},published_at:t.published_at,userName:t.userID.username&&t.userID.username},t.id)}))})]})},he=a(108),me=a.n(he),xe=a(109),pe=a.n(xe),Oe="http://vladar.tk:1337",fe=function(){var e=Object(s.h)().id;console.log("id :>> ",e);var t=Object(n.useState)(),a=Object(v.a)(t,2),c=a[0],r=a[1],o=Object(s.g)();Object(n.useEffect)((function(){J.get("".concat(Oe,"/posts/").concat(e)).then((function(e){console.log("resData :>> ",e.data),r(e.data)})).catch((function(e){return console.log("err :>> ",e)}))}),[]);var i=Object(l.a)({date:{fontSize:"14px",margin:"0",marginLeft:"6px",color:"#555555"},userName:{fontSize:"14px",marginBottom:"0",marginLeft:"6px",color:"#555555"},button:{border:"1px solid rgba(0, 0, 0, 0.23)",backgroundColor:"#FFFFFFB7"},content:{textAlign:"justify"}})();return Object(N.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(N.jsx)("div",{style:{marginBottom:"20px"},children:Object(N.jsx)(h.a,{className:i.button,startIcon:Object(N.jsx)(me.a,{}),onClick:function(){return o(-1)},children:"Wr\xf3\u0107"})}),Object(N.jsxs)("div",{style:{display:"flex",flexDirection:"column",marginBottom:"20px"},children:[Object(N.jsxs)("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",marginBottom:"20px",justifyContent:"space-between"},children:[Object(N.jsxs)("div",{style:{display:"flex",flexDirection:"row",alignItems:"center"},children:[Object(N.jsx)(pe.a,{}),Object(N.jsx)(u.a,{gutterBottom:!0,className:i.date,children:c&&function(e){var t=new Date(e);return t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate()}(c.published_at)})]}),c&&c.userID.username&&Object(N.jsxs)(u.a,{gutterBottom:!0,className:i.userName,children:["Dodano przez ",c.userID.username]})]}),Object(N.jsx)("div",{style:{width:"100%",height:"300px",marginBottom:"10px"},children:Object(N.jsx)("img",{src:c&&"".concat(Oe).concat(c.picture.url),alt:"",style:{objectFit:"cover",width:"100%",height:"100%"}})}),Object(N.jsx)(u.a,{className:i.content,gutterBottom:!0,variant:"h1",component:"h1",children:c&&c.title})]}),Object(N.jsx)("div",{children:Object(N.jsx)(u.a,{className:i.content,gutterBottom:!0,variant:"body1",children:c&&Object(N.jsx)(ee.a,{children:c.description})})})]})},ge=a(217),ve=a(113),ye=a(218),we=a(219),ke=a(220),Se=a(221),Ne=a(222),Ce=a(231),Ie=function(e){return e.map((function(e){return e.title})).join(", ")},Fe=Object(l.a)((function(e){return{table:{minWidth:650},colorAvailable:{backgroundColor:"#4caf50"},colorNotAvailable:{backgroundColor:"#f44336"}}})),Be=function(){var e=Fe(),t=Object(n.useState)([]),a=Object(v.a)(t,2),c=a[0],r=a[1];return Object(n.useEffect)((function(){J.get("".concat("http://vladar.tk:1337","/specialists")).then((function(e){r(e.data),console.log("res :>> ",e)})).catch((function(e){console.log("err :>> ",e)}))}),[]),Object(N.jsx)(ge.a,{component:ve.a,children:Object(N.jsxs)(ye.a,{className:e.table,"aria-label":"simple table",children:[Object(N.jsxs)(we.a,{children:[Object(N.jsx)(ke.a,{children:"Name"}),Object(N.jsx)(ke.a,{children:"Surname"}),Object(N.jsx)(ke.a,{children:"JobTitle"}),Object(N.jsx)(ke.a,{children:"Availability"})]}),Object(N.jsx)(Se.a,{children:c.map((function(t){return Object(N.jsxs)(Ne.a,{children:[Object(N.jsx)(ke.a,{children:t.name}),Object(N.jsx)(ke.a,{children:t.surname}),Object(N.jsx)(ke.a,{children:Ie(t.services)}),Object(N.jsx)(ke.a,{children:t.available?Object(N.jsx)(Ce.a,{label:"Available",className:e.colorAvailable}):Object(N.jsx)(Ce.a,{label:"Not available",className:e.colorNotAvailable})})]},t.id)}))})]})})},ze="http://vladar.tk:1337",Ae=Object(l.a)({table:{minWidth:650}}),Ee=function(){var e=Ae(),t=Object(n.useState)([]),a=Object(v.a)(t,2),c=a[0],r=a[1];return Object(n.useEffect)((function(){J.get("".concat(ze,"/cars")).then((function(e){r(e.data)}))}),[]),Object(N.jsx)(ge.a,{component:ve.a,children:Object(N.jsxs)(ye.a,{className:e.table,"aria-label":"simple table",children:[Object(N.jsx)(we.a,{children:Object(N.jsxs)(Ne.a,{children:[Object(N.jsx)(ke.a,{children:"Company"}),Object(N.jsx)(ke.a,{children:"Model"}),Object(N.jsx)(ke.a,{children:"Car number"}),Object(N.jsx)(ke.a,{children:"VIN"})]})}),Object(N.jsx)(Se.a,{children:c.map((function(e){return Object(N.jsxs)(Ne.a,{children:[Object(N.jsx)(ke.a,{children:e.company}),Object(N.jsx)(ke.a,{children:e.model}),Object(N.jsx)(ke.a,{children:e.car_number}),Object(N.jsx)(ke.a,{children:e.vin})]},e.id)}))})]})})},De=Object(l.a)({table:{minWidth:650}}),We=function(){var e=De(),t=Object(n.useState)([]),a=Object(v.a)(t,2),c=a[0],r=a[1];return Object(n.useEffect)((function(){J.get("".concat("http://vladar.tk:1337","/services")).then((function(e){r(e.data)}))}),[]),Object(N.jsx)(ge.a,{component:ve.a,children:Object(N.jsxs)(ye.a,{className:e.table,"aria-label":"simple table",children:[Object(N.jsx)(we.a,{children:Object(N.jsx)(Ne.a,{children:Object(N.jsx)(ke.a,{children:"Title"})})}),Object(N.jsx)(Se.a,{children:c.map((function(e){return Object(N.jsx)(Ne.a,{children:Object(N.jsx)(ke.a,{children:e.title})},e.id)}))})]})})},Re=function(e){var t=new Date(e),a=t.getFullYear(),n=t.getMonth()+1,c=t.getDate();return n<10?c+"."+"0".concat(n)+"."+a:c+"."+n+"."+a},Le=Object(l.a)({table:{minWidth:650}}),Me=function(){var e=Le(),t=Object(n.useContext)(B).userId,a=Object(n.useState)([]),c=Object(v.a)(a,2),r=c[0],o=c[1];return Object(n.useEffect)((function(){J.get("".concat("http://vladar.tk:1337","/reservations?user.id=").concat(t)).then((function(e){o(e.data),console.log("resReservation :>> ",e)})).catch((function(e){console.log("err :>> ",e)}))}),[]),Object(N.jsx)(ge.a,{component:ve.a,style:{boxShadow:"none"},children:Object(N.jsxs)(ye.a,{className:e.table,"aria-label":"simple table",children:[Object(N.jsx)(we.a,{children:Object(N.jsxs)(Ne.a,{children:[Object(N.jsx)(ke.a,{children:"Date from"}),Object(N.jsx)(ke.a,{children:"Date to"}),Object(N.jsx)(ke.a,{children:"Services"}),Object(N.jsx)(ke.a,{children:"Status"})]})}),Object(N.jsx)(Se.a,{children:r.map((function(e){return Object(N.jsxs)(Ne.a,{children:[Object(N.jsx)(ke.a,{children:Re(e.date_from)}),Object(N.jsx)(ke.a,{children:Re(e.date_to)}),Object(N.jsx)(ke.a,{children:Ie(e.services)}),Object(N.jsx)(ke.a,{children:Object(N.jsx)(Ce.a,{label:e.status,style:"Pending"===e.status?{backgroundColor:"#ff9800"}:"Active"===e.status?{backgroundColor:"#4caf50"}:{backgroundColor:"rgba(0, 0, 0, 0.54)"}})})]},e.id)}))})]})})},Pe=Object(l.a)((function(e){return{root:{display:"flex",justifyContent:"center",flexDirection:"row",width:"100%"},userInfoCard:{display:"flex",justifyContent:"center",flexDirection:"column",height:"100%",padding:"20px",width:"50%",boxShadow:e.shadows[3],borderRadius:e.shape.borderRadius},accountInfo:{width:"100%",borderRadius:e.shape.borderRadius,boxShadow:e.shadows[3],minHeight:"300px",padding:"20px",marginLeft:"20px"},text:{marginBottom:"15px"}}})),Te=function(){var e=Pe(),t=Object(n.useContext)(B),a=t.username,c=t.email,r=Object(n.useState)(),o=Object(v.a)(r,2);o[0],o[1];return Object(N.jsxs)("div",{className:e.root,children:[Object(N.jsxs)($.a,{component:ve.a,className:e.userInfoCard,children:[Object(N.jsx)(u.a,{gutterBottom:!0,component:"h6",variant:"h6",children:a}),Object(N.jsx)(u.a,{component:"subtitle1",variant:"subtitle1",children:c})]}),Object(N.jsxs)($.a,{component:ve.a,className:e.accountInfo,children:[Object(N.jsx)(u.a,{className:e.text,variant:"h3",children:"Moje rezerwacje"}),Object(N.jsx)(Me,{})]}),Object(N.jsx)("div",{})]})},_e=Object(l.a)((function(e){var t;return{root:(t={boxSizing:"border-box",padding:"86px 175px",minHeight:"100vh",backgroundColor:e.palette.background.default},Object(i.a)(t,e.breakpoints.down("xs"),{padding:"64px 30px 30px"}),Object(i.a)(t,e.breakpoints.down(350),{padding:"64px 5% 5%"}),t)}})),He=function(){var e=Object(n.useContext)(B).isLoggedIn,t=_e();return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(D,{}),Object(N.jsx)("div",{className:t.root,children:Object(N.jsxs)(s.d,{children:[Object(N.jsx)(s.b,{path:"/",element:Object(N.jsx)(re,{})}),Object(N.jsx)(s.b,{path:"/login",element:e?Object(N.jsx)(s.a,{to:"/"}):Object(N.jsx)(q,{})}),Object(N.jsx)(s.b,{path:"/register",element:e?Object(N.jsx)(s.a,{to:"/"}):Object(N.jsx)(X,{})}),Object(N.jsx)(s.b,{path:"/blog",element:Object(N.jsx)(ue,{})}),Object(N.jsx)(s.b,{path:"/blog/:id",element:Object(N.jsx)(fe,{})}),Object(N.jsx)(s.b,{path:"/specialists",element:Object(N.jsx)(Be,{})}),Object(N.jsx)(s.b,{path:"/cars",element:Object(N.jsx)(Ee,{})}),Object(N.jsx)(s.b,{path:"/services",element:Object(N.jsx)(We,{})}),Object(N.jsx)(s.b,{path:"/reservations/:userId",element:Object(N.jsx)(Me,{})}),Object(N.jsx)(s.b,{path:"/userAccount",element:Object(N.jsx)(Te,{})})]})})]})},Ge=a(224),Je=a(26),Ze=a(110),Ke=a(223),Ye="HANDLE_LOGIN",qe="HANDLE_LOGOUT",Ue=["blocked","confirmed","email","username"],Ve=function(e,t){switch(t.type){case Ye:localStorage.setItem("userId",t.userId),localStorage.setItem("jwt",t.jwt);var a={};Ue.forEach((function(e){a[e]=t.user[e]}));var n={name:t.user.role.name,type:t.user.role.type};return Object(y.a)(Object(y.a)(Object(y.a)({},e),a),{},{userId:t.userId,role:n,jwt:t.jwt,isLoggedIn:!0});case qe:return Object(y.a)({},t.initialState);default:return Object(y.a)({},e)}},Qe=function(e){var t={blocked:!1,confirmed:!1,email:"",username:"",isLoggedIn:!1,role:{name:"",type:""},jwt:"",userId:""},a=Object(n.useReducer)(Ve,localStorage.getItem("userState")?JSON.parse(localStorage.getItem("userState")):t),c=Object(v.a)(a,2),r=c[0],o=c[1];Object(n.useEffect)((function(){localStorage.setItem("userState",JSON.stringify(r)),localStorage.setItem("jwt",r.jwt),localStorage.setItem("userId",r.userId)}),[r]);return Object(N.jsx)(B.Provider,{value:Object(y.a)(Object(y.a)({},r),{},{handleLogin:function(e,t,a){o({type:Ye,user:e,jwt:t,userId:a})},handleLogout:function(){o({type:qe,initialState:t})}}),children:e.children})},Xe=function(e,t){J.interceptors.response.use((function(e){return Promise.resolve(e)}),(function(a){return a&&a.response&&(401===a.response.status||403===a.response.status)&&(t(!0,"Nie masz dost\u0119pu do tej strony"),e("/")),Promise.reject(a)}))},$e=a(229),et=function(){var e=Object(n.useContext)(C),t=e.snackbarOpen,a=e.snackbarError,c=e.snackbarMessage,r=e.closeSnackbar;return Object(n.useEffect)((function(){t&&setTimeout((function(){r()}),5e3)}),[t]),Object(N.jsx)($e.a,{open:t,anchorOrigin:{vertical:"bottom",horizontal:"center"},children:Object(N.jsx)(P.a,{severity:a?"error":"success",children:c})})},tt=function(e){var t=e.children,a=Object(n.useContext)(C),c=a.theme,r=(a.hasChanged,a.setTheme,a.openSnackbar),o=(a.closeSnackbar,Object(Je.a)());Xe(Object(s.g)(),r);var i=Object(n.useMemo)((function(){return Object(Ze.a)({palette:{type:c,background:{paper:"light"===c?"#FFFFFF":"#0A1929",default:"light"===c?"#F3F6F9":"#001E3C"},primary:{main:"light"===c?"#007FFF":"#3399FF"},text:{main:"light"===c?"#0A1929":"#FFFFFF",secondary:"light"===c?"#46505A":"#AAB4BE"}},typography:{fontFamily:['"IBM Plex Sans"',"Roboto","sans-serif"].join(", ")},shape:{borderRadius:"10px"},overrides:{MuiTypography:{root:{transition:o.transitions.create("color",{duration:o.transitions.duration.standard})},h1:{fontSize:"30px",fontWeight:"bold"},h2:{fontSize:"25px",fontWeight:"bold"},h3:{fontSize:"25px",fontWeight:"400"}},MuiLink:{root:{fontFamily:['"IBM Plex Sans"',"Roboto","sans-serif"].join(", ")}},MuiButton:{sizeSmall:{padding:"5px 10px",minWidth:"unset"}},MuiOutlinedInput:{root:{backgroundColor:"light"===c?"#FFFFFF":"#0A1929"}}}})}),[c]);return Object(N.jsx)(Ke.a,{theme:i,children:t})};o.a.render(Object(N.jsx)(c.a.StrictMode,{children:Object(N.jsx)(F,{children:Object(N.jsx)(Qe,{children:Object(N.jsx)(z.a,{children:Object(N.jsx)(tt,{children:Object(N.jsxs)(Ge.a,{children:[Object(N.jsx)(He,{}),Object(N.jsx)(et,{})]})})})})})}),document.getElementById("root"))}},[[162,1,2]]]);
//# sourceMappingURL=main.d3ae0263.chunk.js.map